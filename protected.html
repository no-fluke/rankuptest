<!DOCTYPE html>
<html>
<head>
  <title>Protected Page</title>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <!-- Global Auth -->
  <script src="/assets/js/auth.js"></script>
</head>
<body>

<header style="display:flex;justify-content:space-between;align-items:center">
  <h3>Protected Area</h3>
  <div>
    <span id="userName"></span>
    <button id="logoutBtn">Logout</button>
  </div>
</header>

<p>If you can see this, login protection works ðŸŽ‰</p>

<script>
  requireLogin(user => {
    document.getElementById("userName").innerText =
      user.displayName || user.email;
  });

  document.getElementById("logoutBtn").onclick = () => {
    logoutUser().then(() => {
      window.location.href = "/login.html";
    });
  };
</script>

</body>
</html>
