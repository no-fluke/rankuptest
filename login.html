<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body style="font-family:Arial;background:#f4f6fb;height:100vh;display:flex;align-items:center;justify-content:center">

<div style="background:#fff;padding:25px;width:320px;border-radius:10px">
  <h2>Login</h2>

  <input id="email" type="email" placeholder="Email"
    style="width:100%;padding:10px;margin-bottom:10px">

  <input id="password" type="password" placeholder="Password"
    style="width:100%;padding:10px;margin-bottom:15px">

  <button id="loginBtn" style="width:100%;padding:10px;margin-bottom:10px">
    Login
  </button>

  <button onclick="window.location.href='signup.html'"
    style="width:100%;padding:10px">
    New user? Sign up
  </button>

  <p id="msg" style="color:red;margin-top:10px"></p>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAQk0dJayCyv8gfDGsYW-XSYC5n13oWvpA",
    authDomain: "ssc-journey.firebaseapp.com",
    projectId: "ssc-journey"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  function friendlyError(err) {
    switch (err.code) {
      case "auth/user-not-found":
      case "auth/wrong-password":
        return "Invalid email or password";
      case "auth/invalid-email":
        return "Enter a valid email";
      default:
        return "Login failed. Try again.";
    }
  }

  document.getElementById("loginBtn").onclick = () => {
    const email = document.getElementById("email").value;
    const pass = document.getElementById("password").value;

    auth.signInWithEmailAndPassword(email, pass)
      .then(() => window.location.href = "/")
      .catch(err => {
        console.error(err);
        msg.innerText = friendlyError(err);
      });
  };
</script>

</body>
</html>
